{
  "db_name": "PostgreSQL",
  "query": "WITH messages_to_fetch AS (\n                    SELECT sequence_number, message_bytes FROM qs_queues\n                    WHERE queue_id = $1\n                        AND sequence_number >= $2\n                        AND (fetched_by IS NULL OR fetched_by != $3)\n                    ORDER BY sequence_number ASC\n                    LIMIT $4\n                    FOR UPDATE SKIP LOCKED\n                ),\n                updated_messages AS (\n                    UPDATE qs_queues AS q\n                    SET fetched_by = $3\n                    FROM messages_to_fetch m\n                    WHERE q.queue_id = $1 AND q.sequence_number = m.sequence_number\n                )\n                SELECT message_bytes AS \"message: SqlQueueMessage\"\n                FROM messages_to_fetch\n                ",
  "describe": {
    "columns": [
      {
        "ordinal": 0,
        "name": "message: SqlQueueMessage",
        "type_info": "Bytea"
      }
    ],
    "parameters": {
      "Left": [
        "Uuid",
        "Int8",
        "Uuid",
        "Int8"
      ]
    },
    "nullable": [
      false
    ]
  },
  "hash": "fa310bdcab816c13b7a584634176542710e3d3c9e8f590809912aa24feeb8394"
}
